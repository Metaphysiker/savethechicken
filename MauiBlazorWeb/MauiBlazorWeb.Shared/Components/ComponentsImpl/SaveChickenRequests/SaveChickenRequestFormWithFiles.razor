@using MauiBlazorWeb.Shared.Components.ComponentsImpl.Contacts
@using MauiBlazorWeb.Shared.Components.ComponentsImpl.Addresses
@using MauiBlazorWeb.Shared.Components.ComponentsImpl.FileUploads
@using MauiBlazorWeb.Shared.Components.ComponentsImpl.SaveChickenActions
@using MauiBlazorWeb.Shared.Components.ComponentsImpl.StoredFiles
@using MauiBlazorWeb.Shared.Components.MultiDateSelecters
@using MauiBlazorWeb.Shared.Resources.Strings
@using Microsoft.Extensions.Localization
@using MudBlazor
@using global::Shared.Dtos.DtosImpl
@inject IStringLocalizer<AppResources> L

@code {
    [Parameter, EditorRequired]
    public ItemWithBrowserFiles<SaveChickenRequestDto> EntityWithFiles { get; set; } = default!;

    [Parameter]
    public bool IsReadOnly { get; set; } = false;
}

<ContactForm Contact="EntityWithFiles.Item.Contact" IsReadOnly="@IsReadOnly" />
<AddressForm Address="EntityWithFiles.Item.Address" IsReadOnly="@IsReadOnly" />

<MudPaper Class="pa-4 my-4">
    <MudText Typo="Typo.h6">Allgemeine Informationen</MudText>
    <MudItem>
        <MudNumericField ReadOnly="@IsReadOnly" T="int" @bind-Value="EntityWithFiles.Item.NumberOfChickensToBeSaved" Label="@L["NumberOfChickens"]" Variant="Variant.Outlined" />
        <ValidationMessage For="@(() => EntityWithFiles.Item.NumberOfChickensToBeSaved)" />
    </MudItem>
        <MudItem>
        <MudNumericField ReadOnly="@IsReadOnly" T="int" @bind-Value="EntityWithFiles.Item.NumberOfRoostersToBeSaved" Label="@L["NumberOfRoostersToBeSaved"]" Variant="Variant.Outlined" />
        <ValidationMessage For="@(() => EntityWithFiles.Item.NumberOfRoostersToBeSaved)" />
    </MudItem>

    <MudDivider Class="my-2"></MudDivider>

    <MudItem Class="my-2">
        <MudText>
            Bitte beschreiben Sie kurz  Ihr Hühnerzuhause (Stall, Auslauf m2) , Anzahl bestehende Hühner, Erfahrung etc.
        </MudText>
        <MudTextField ReadOnly="@IsReadOnly" @bind-Value="EntityWithFiles.Item.DescriptionOfPlaceForChickens" Label="@L["Description"]" Variant="Variant.Outlined" Lines="3" />
        <ValidationMessage For="@(() => EntityWithFiles.Item.DescriptionOfPlaceForChickens)" />
    </MudItem>



</MudPaper>

<MultiDateOnlySelector @bind-SelectedDates="EntityWithFiles.Item.DatesForHandOver" Text="Ich bin an diesen Tagen erreichbar:" />

<StoredFilesEdit @bind-Files="EntityWithFiles.Item.Files" />

<FilesUploadForm @bind-Value="EntityWithFiles.Files" Label="Dateien hochladen" Text="" />

<SaveChickenActionSelector @bind-SelectedActionId="EntityWithFiles.Item.SaveChickenActionId" />


<MudPaper Class="pa-4 my-4">
    <MudCheckBox ReadOnly="@IsReadOnly" @bind-Value="EntityWithFiles.Item.ConfirmThatIFulfillCriteria" Label="@L["ConfirmThatIFulfillCriteria"]"></MudCheckBox>
    <ValidationMessage For="@(() => EntityWithFiles.Item.ConfirmThatIFulfillCriteria)" />

    <MudCheckBox ReadOnly="@IsReadOnly" @bind-Value="EntityWithFiles.Item.AlreadyReceivedChickenPreviously" Label="@L["AlreadyReceivedChickenPreviously"]"></MudCheckBox>
    <ValidationMessage For="@(() => EntityWithFiles.Item.AlreadyReceivedChickenPreviously)" />

    <MudCheckBox ReadOnly="@IsReadOnly" @bind-Value="EntityWithFiles.Item.AcceptTermsAndConditions" Label="@L["AcceptTermsAndConditions"]"></MudCheckBox>
    <ValidationMessage For="@(() => EntityWithFiles.Item.AcceptTermsAndConditions)" />

     <MudDivider Class="my-2"></MudDivider>

    <MudItem Class="my-2">
        <MudText>
            Was ich noch sagen möchte:
        </MudText>
        <MudTextField ReadOnly="@IsReadOnly" @bind-Value="EntityWithFiles.Item.Message" Label="@L["Message"]" Variant="Variant.Outlined" Lines="3" />
        <ValidationMessage For="@(() => EntityWithFiles.Item.Message)" />
    </MudItem>
</MudPaper>
